// =====================================================================================
// 
//       Filename:  main.c
// 
//    Description:  
// 
//        Version:  1.0
//        Created:  05/31/2009 01:08:22 AM
//       Revision:  none
//       Compiler:  g++
// 
//         Author:  Will King (xfun), xfun68@foxmail.com
//        Company:  
// 
// =====================================================================================

#include <stdio.h>
#include <string.h>
#include <time.h>
#include <inttypes.h>
#include <sys/time.h>

int main(int argc, char* argv[])
{
    const int BUF_SIZE = 1024;
    char buf[BUF_SIZE];
    char* text = ""
        "01234567890123456789012345678901"/*{{{*/
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "01234567890123456789012345678901"
        "";/*}}}*/
    struct timeval bgn_time;
    struct timeval end_time;

    bzero(buf, sizeof(buf));
    puts(buf);
    gettimeofday(&bgn_time, NULL);
    {
        strncpy(buf, text, BUF_SIZE-1);
        buf[BUF_SIZE-1] = '\0';
    }
    gettimeofday(&end_time, NULL);
    puts(buf);
    printf("cost: %ld sec %ld usec", 
        end_time.tv_sec - bgn_time.tv_sec,
        end_time.tv_usec - bgn_time.tv_usec);

    return 0;
}

